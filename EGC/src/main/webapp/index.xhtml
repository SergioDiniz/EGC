<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <h:head>
        <title>EGC - Login</title>
        <link rel="stylesheet" href="/EGC/css/bootstrap.css" type="text/css"/>
        <link rel="stylesheet" href="/EGC/css/bootstrap-theme.css" type="text/css"/>
        <link rel="stylesheet" href="/EGC/css/administrador.css" type="text/css"/>
        <link rel="stylesheet" href="/EGC/css/estilo.css" type="text/css"/>
        <link rel="stylesheet" href="/EGC/css/circular-chart.css" type="text/css"/>

        <link rel="stylesheet" href="/EGC/js/jquery.mCustomScrollbar.css" /> <!-- scrollbar -->

        <script src="/EGC/js/jquery-1.11.2.js" type="text/javascript"/>

        <script src="/EGC/js/m-p/jquery.magnific-popup.js" type="text/javascript"/>
        <link rel="stylesheet" href="/EGC/js/m-p/magnific-popup.css"/> 

        <script src="/EGC/js/bootstrap.js" type="text/javascript"/>

        <script src="/EGC/js/jquery.mCustomScrollbar.js" type="text/javascript"/> <!-- scrollbar -->

        <script src="/EGC/js/scripts.js" type="text/javascript"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
        <meta name="theme-color" content="#0c0e10"></meta>
    </h:head>


    <h:body>

        <!--        <div id="menu">
                    <ui:include src="menu.xhtml"/>
                </div>-->
        <!--        <div class="info-sistema">
                    
                </div>-->

        <div class="login">

            <div class="col-lg-offset-1 col-lg-10 col-md-offset-1 col-md-10">
                <div class="row">


                    <div class="col-lg-7 col-md-7 col-sm-7 col-xs-12 text-center">
                        <div class="visible-xs">
                            <div id="logo-egc"><img src="img/logo egc.png" title="EGC"/></div>   
                            <label class="text-center "><h2 class="texto-200 texto-cor-branco">EGC</h2></label> <br/><br/>
                        </div>

                        <div class="hidden-xs">
                            <span id="logo-egc"><img src="img/logo.png" title="EGC"/></span> <br/><br/>
                            <span id="texto-egc">Eficiência em Gestão de Cidades</span> <br/>
                            <span id="descricao-egc">Uma ferramenta que faz uso da participação popular na construção de cidades inteligentes</span> <br/><br/><br/>
                            <h:form>
                                <h:commandButton class="btn btn-default btn-lg" value="Cadastre-se" action="/sis/cadastro/usuario.jsf?faces-redirect=true"/>
                            </h:form>
                        </div>
                    </div>

                    <div class="col-lg-offset-1 col-lg-4 col-md-5 col-sm-5 col-xs-12 from-login">

                        <h:form>
                            <h:inputText value="#{controladorUsuario.usuario.email}" class="form-control input-lg" pt:placeholder="email"/>
                            <br/>
                            <h:inputSecret value="#{controladorUsuario.usuario.senha}" class="form-control input-lg" pt:placeholder="senha"/>
                            <br/>
                            <h:commandButton class="btn btn-primary btn-lg btn-login" value="ENTRAR"
                                             action="#{controladorUsuario.login()}"/>
                            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />


                            <div class="text-center hidden-xs r-sub-form-login">
                                <div class="esqueci-senha">
                                    <a href="sis/login/recuperar-senha-usuario.xhtml">ESQUECI MINHA SENHA</a>
                                </div>
                            </div>

                        </h:form>

                        <div class="visible-xs r-sub-form-login">
                            <div class="col-xs-12 text-center">
                                <div class="row">
                                    <h:form>
                                        <h:commandButton class="btn btn-lg btn-success btn-block" value="NOVA CONTA" action="/sis/cadastro/usuario.jsf?faces-redirect=true"/>
                                    </h:form>
                                </div>
                            </div>
                            <div class="col-xs-12 text-center">
                                <div class="esqueci-senha">
                                    <a href="sis/login/recuperar-senha-usuario.xhtml">ESQUECI MINHA SENHA</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>




        </div>

        <div class="pesquisa">
            <div class="container">
                <div class="col-lg-offset-3 col-lg-6 col-xs-12">
                    <div class="text-center">
                        <h2 class="texto-100 texto-cor-branco">Pesquise uma Cidade</h2><br/>
                    </div>
                    <div>
                        <form class="form-horizontal">
                            <div class="form-group">
                                <div class="input-group">
                                    <h:form>
                                        <form jsf:id="form">
                                            <input type="text" id="txtEndereco" jsf:id="txtEndereco" name="txtEndereco" class="form-control input-lg"  jsf:value="${controladorCidade.enderecoPesquisa}"/>
                                            <span class="input-group-addon">
                                                <h:commandButton class="btn-link" image="/img/pesquisar.png" action="#{controladorCidade.pesquisarCidade()}"/>
                                            </span>
                                        </form>
                                    </h:form>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">

            <div class="row">
                <div class="escolherTipoLogin">

                    <div class="col-md-12">
                        <div class="col-md-4 loginFuncionario" align="center">

                            <div class="row">
                                <img src="img/icon funcionario.png" title="Login Funcionario"></img>
                            </div>
                            <div class="row" align="center">
                                <h:form>
                                    <h:commandLink action="/sis/login/funcionario.jsf?faces-redirect=true" value="Funcionario"/>
                                </h:form>
                            </div>

                            <div class="row" align="center">
                                <div class="col-md-offset-1 col-md-10">
                                    <p class="descricaoTipoLogin">
                                        Ambiente para o gerenciamento das denúncias da cidade, 
                                        isto é, atualizar a situação das denúncias, podendo 
                                        informa se uma denúncia já foi atendida, se estão 
                                        trabalhando para melhorar e também de denunciar caso 
                                        o conteúdo da denúncia seja improprio.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 loginPrefeitura" align="center">

                            <div class="row">
                                <img src="img/icon prefeitura.png" title="Login Prefeitura"></img>
                            </div>
                            <div class="row" align="center">
                                <h:form>
                                    <h:commandLink action="/sis/login/prefeitura.jsf?faces-redirect=true" value="Prefeitura"/>
                                </h:form>
                            </div>

                            <div class="row" align="center">
                                <div class="col-md-offset-1 col-md-10">
                                    <p class="descricaoTipoLogin">
                                        Ambiente composto pelas funções de gerenciar o 
                                        acompanhamento das denúncias feitas pelos Usuários.
                                        Tendo acesso apenas as denúncias da sua cidade, 
                                        a Prefeitura terá como conhecer o total de denúncias 
                                        e as informações referente a elas. 
                                        <h:form>
                                            <b><h:commandLink action="/sis/cadastro/prefeitura.jsf?faces-redirect=true" value="Solicitar Acesso."/></b>
                                        </h:form>
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 loginAdmin" align="center">

                            <div class="row">
                                <img src="img/icon admin.png" title="Login Administrador"></img>
                            </div>
                            <div class="row" align="center">
                                <h:form>
                                    <h:commandLink action="/sis/login/administrador.jsf?faces-redirect=true" value="Administrador"/>
                                </h:form>
                            </div>

                            <div class="row" align="center">
                                <div class="col-md-offset-1 col-md-10">
                                    <p class="descricaoTipoLogin">
                                        O administrador irá validar e aprovar o cadastro 
                                        de novas prefeituras podendo também excluir uma 
                                        prefeitura quando a mesma fizer a solicitação para 
                                        cancelar sua conta. Terá um ambiente especial para 
                                        o acompanhamento de denúncias que contem irregularidades, 
                                        podendo excluir ou confirma que é válida. 
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="rodape">
            <div id="s-logo">
                <img src="img/s-logo.png" height="100em"/>
            </div>
        </div>
    </h:body>

    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyA7--w4nokUUqyxvIeuDh37KaIcLivbQHs"></script>
    <script type="text/javascript">

        var geocoder;
        var marker;

        function initialize() {
            geocoder = new google.maps.Geocoder();
            marker = new google.maps.Marker({
                draggable: true,
            });
        }


        $(document).ready(function () {
            initialize();
        });


        $(document).ready(function () {
            $("#txtEndereco").autocomplete({
                source: function (request, response) {
                    geocoder.geocode({'address': request.term + ', Brasil', 'region': 'BR'}, function (results, status) {
                        response($.map(results, function (item) {
                            return {
                                label: item.formatted_address,
                                value: item.formatted_address,
                                latitude: item.geometry.location.lat(),
                                longitude: item.geometry.location.lng()
                            }
                        }));
                    })
                }
            });
        });


    </script>
    <script src="/EGC/js/jquery-ui.custom.min.js" type="text/javascript"/>
</html>


